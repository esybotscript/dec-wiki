<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ESYBOT-DEC WIKI</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: sans-serif;
            font-size: 13px;
            line-height: 1.6;
            color: #000;
            background: #fff;
        }

        .container {
            display: flex;
            min-height: 100vh;
        }

        /* Боковая панель точно как в оригинале */
        .sidebar {
            width: 12em;
            background: #f6f6f6;
            border-right: 1px solid #aaa;
            padding: 0.5em;
            font-size: 11px;
        }

        .sidebar h5 {
            font-size: 11px;
            font-weight: bold;
            margin: 1em 0 0.5em 0;
            color: #000;
        }

        .sidebar ul {
            list-style: none;
            margin: 0;
            padding: 0;
        }

        .sidebar li {
            margin: 0.2em 0;
        }

        .sidebar a {
            color: #0645ad;
            text-decoration: none;
        }

        .sidebar a:hover {
            text-decoration: underline;
        }

        .sidebar a:visited {
            color: #0b0080;
        }

        /* Основной контент */
        .content {
            flex: 1;
            padding: 1em;
            background: #fff;
        }

        .page {
            display: none;
        }

        .page.active {
            display: block;
        }

        /* Заголовки точно как в MediaWiki */
        h1 {
            font-size: 1.8em;
            font-weight: normal;
            color: #000;
            border-bottom: 3px solid #aaa;
            padding-bottom: 0.2em;
            margin: 0 0 0.8em 0;
            font-family: "Linux Libertine", Georgia, Times, serif;
        }

        h2 {
            font-size: 1.3em;
            font-weight: bold;
            color: #000;
            border-bottom: 1px solid #aaa;
            padding-bottom: 0.1em;
            margin: 1.2em 0 0.5em 0;
        }

        h3 {
            font-size: 1.1em;
            font-weight: bold;
            color: #000;
            margin: 1em 0 0.5em 0;
        }

        p {
            margin: 0.5em 0;
            text-align: justify;
        }

        /* Ссылки как в MediaWiki */
        a {
            color: #0645ad;
            text-decoration: none;
        }

        a:hover {
            text-decoration: underline;
        }

        a:visited {
            color: #0b0080;
        }

        /* Списки */
        ul, ol {
            margin: 0.3em 0 0 1.6em;
        }

        li {
            margin: 0.1em 0;
        }

        /* Код */
        code {
            background: #f9f9f9;
            border: 1px solid #ddd;
            padding: 1px 4px;
            font-family: monospace;
            font-size: 12px;
        }

        pre {
            background: #f9f9f9;
            border: 1px solid #ddd;
            padding: 0.5em;
            margin: 0.5em 0;
            overflow-x: auto;
            font-family: monospace;
            font-size: 12px;
        }

        /* Таблицы */
        table {
            border-collapse: collapse;
            margin: 0.5em 0;
            font-size: 12px;
        }

        th, td {
            border: 1px solid #aaa;
            padding: 0.2em 0.4em;
            text-align: left;
        }

        th {
            background: #eee;
            font-weight: bold;
        }

        /* Блоки с информацией */
        .infobox {
            background: #f9f9f9;
            border: 1px solid #aaa;
            padding: 0.5em;
            margin: 0.5em 0;
            font-size: 12px;
        }

        .warning {
            background: #fef6e7;
            border: 1px solid #fc3;
            padding: 0.5em;
            margin: 0.5em 0;
        }

        /* Навигация внизу */
        .navbox {
            background: #f9f9f9;
            border: 1px solid #aaa;
            margin: 1em 0;
            text-align: center;
        }

        .navbox-title {
            background: #ccf;
            padding: 0.2em;
            font-weight: bold;
            border-bottom: 1px solid #aaa;
        }

        .navbox-content {
            padding: 0.5em;
        }

        .navbox-content a {
            margin: 0 0.5em;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Боковая панель -->
        <div class="sidebar">
            <h5>Навигация</h5>
            <ul>
                <li><a href="#" onclick="showPage('main')">Заглавная страница</a></li>
                <li><a href="#" onclick="showPage('about')">О проекте</a></li>
                <li><a href="#" onclick="showPage('news')">Свежие правки</a></li>
            </ul>

            <h5>Документация</h5>
            <ul>
                <li><a href="#" onclick="showPage('quickstart')">Быстрый старт</a></li>
                <li><a href="#" onclick="showPage('install')">Установка</a></li>
                <li><a href="#" onclick="showPage('config')">Конфигурация</a></li>
                <li><a href="#" onclick="showPage('handlers')">Обработчики</a></li>
                <li><a href="#" onclick="showPage('keyboards')">Клавиатуры</a></li>
                <li><a href="#" onclick="showPage('effects')">Эффекты</a></li>
            </ul>

            <h5>Примеры</h5>
            <ul>
                <li><a href="#" onclick="showPage('simple')">Простой бот</a></li>
                <li><a href="#" onclick="showPage('survey')">Бот-опросник</a></li>
                <li><a href="#" onclick="showPage('game')">Игровой бот</a></li>
            </ul>

            <h5>Справочник</h5>
            <ul>
                <li><a href="#" onclick="showPage('api')">API справочник</a></li>
                <li><a href="#" onclick="showPage('vars')">Переменные</a></li>
                <li><a href="#" onclick="showPage('triggers')">Триггеры</a></li>
            </ul>

            <h5>Инструменты</h5>
            <ul>
                <li><a href="https://github.com/esybotscript/esybot-dec" target="_blank">Репозиторий</a></li>
                <li><a href="#" onclick="showPage('faq')">FAQ</a></li>
            </ul>
        </div>

        <!-- Основной контент -->
        <div class="content">
            <!-- Главная страница -->
            <div id="main" class="page active">
                <h1>ESYBOT-DEC WIKI</h1>
                
                <p><strong>ESYBOT-DEC</strong> — декларативный фреймворк для создания Telegram ботов, разработанный таким образом, чтобы упростить процесс создания ботов через YAML конфигурации. Фреймворк — прогрессивное решение, которое развивается постоянно, то есть не обладает ограничениями на добавление новых возможностей.</p>

                <h2>Авторы</h2>
                <p><a href="#" onclick="showPage('about')">ESYBOT Team</a> <a href="#">Сообщество разработчиков</a></p>

                <h2>История изменений</h2>
                <p><strong>Последнее редактирование:</strong> около 1 года назад</p>
                <p><a href="#" onclick="showPage('news')">Показать историю</a></p>

                <h2>Основные возможности</h2>
                <ul>
                    <li><strong>Декларативный подход</strong> — описание поведения бота через YAML</li>
                    <li><strong>Автоматическая валидация</strong> — проверка конфигурации при загрузке</li>
                    <li><strong>Встроенные клавиатуры</strong> — inline и reply кнопки работают из коробки</li>
                    <li><strong>Система переменных</strong> — удобное управление состоянием</li>
                    <li><strong>Python интеграция</strong> — сложная логика в Python блоках</li>
                    <li><strong>Простота использования</strong> — минимальный порог входа</li>
                </ul>

                <h2>Пример использования</h2>
                <pre><code>config:
  token: "YOUR_BOT_TOKEN"
  name: "Мой бот"

handlers:
  - name: "start"
    trigger: "/start"
    effects:
      - send:
          text: "Привет! Я работаю на ESYBOT-DEC!"</code></pre>

                <div class="navbox">
                    <div class="navbox-title">ESYBOT-DEC</div>
                    <div class="navbox-content">
                        <a href="#" onclick="showPage('quickstart')">Быстрый старт</a> •
                        <a href="#" onclick="showPage('install')">Установка</a> •
                        <a href="#" onclick="showPage('config')">Конфигурация</a> •
                        <a href="#" onclick="showPage('api')">API</a> •
                        <a href="#" onclick="showPage('faq')">FAQ</a>
                    </div>
                </div>
            </div>

            <!-- О проекте -->
            <div id="about" class="page">
                <h1>О проекте</h1>
                
                <p><strong>ESYBOT-DEC</strong> — проект с открытым исходным кодом, направленный на упрощение создания Telegram ботов через использование декларативного подхода.</p>

                <h2>Философия проекта</h2>
                <p>Основная идея ESYBOT-DEC заключается в принципе <strong>"Конфигурация вместо кода"</strong>. Мы считаем, что создание простых и средних по сложности ботов не должно требовать глубоких знаний программирования.</p>

                <h2>Цели проекта</h2>
                <ul>
                    <li><strong>Упрощение разработки</strong> — снижение порога входа для новых разработчиков</li>
                    <li><strong>Повышение производительности</strong> — ускорение процесса создания ботов</li>
                    <li><strong>Улучшение читаемости</strong> — код конфигурации должен быть понятен любому</li>
                    <li><strong>Снижение количества ошибок</strong> — автоматическая валидация и проверки</li>
                </ul>

                <h2>Команда разработки</h2>
                <p>Проект ESYBOT-DEC разрабатывается сообществом энтузиастов, заинтересованных в улучшении экосистемы Telegram ботов.</p>

                <h2>Лицензия</h2>
                <p>Проект распространяется под лицензией <a href="https://opensource.org/licenses/MIT">MIT</a>.</p>

                <div class="infobox">
                    <p><strong>Дата создания:</strong> 2025<br>
                    <strong>Язык:</strong> Python<br>
                    <strong>Статус:</strong> Активная разработка</p>
                </div>
            </div>

            <!-- Свежие правки -->
            <div id="news" class="page">
                <h1>Свежие правки</h1>
                
                <p>Недавние изменения в ESYBOT-DEC Wiki.</p>

                <h2>29 июля 2025</h2>
                <ul>
                    <li><strong>10:52</strong> — <a href="#" onclick="showPage('main')">ESYBOT-DEC WIKI</a> обновлена пользователем <strong>ESYBOT Team</strong></li>
                    <li><strong>10:45</strong> — <a href="#" onclick="showPage('quickstart')">Быстрый старт</a> создана пользователем <strong>Developer</strong></li>
                    <li><strong>10:30</strong> — <a href="#" onclick="showPage('config')">Конфигурация</a> обновлена пользователем <strong>Contributor</strong></li>
                </ul>

                <h2>28 июля 2025</h2>
                <ul>
                    <li><strong>16:20</strong> — <a href="#" onclick="showPage('api')">API справочник</a> создан пользователем <strong>API Team</strong></li>
                    <li><strong>14:15</strong> — <a href="#" onclick="showPage('simple')">Простой бот</a> обновлен пользователем <strong>Examples Team</strong></li>
                </ul>

                <h2>27 июля 2025</h2>
                <ul>
                    <li><strong>12:00</strong> — Создание проекта ESYBOT-DEC Wiki</li>
                </ul>
            </div>

            <!-- Быстрый старт -->
            <div id="quickstart" class="page">
                <h1>Быстрый старт</h1>
                
                <p><strong>Быстрый старт</strong> поможет вам создать первого бота на ESYBOT-DEC за несколько минут.</p>

                <h2>Установка</h2>
                <p>Установите необходимые зависимости:</p>
                <pre><code>pip install aiogram pyyaml</code></pre>

                <p>Скачайте интерпретатор:</p>
                <pre><code>git clone https://github.com/esybotscript/esybot-dec.git</code></pre>

                <h2>Создание бота</h2>
                <p>Создайте файл <code>bot.yaml</code>:</p>
                <pre><code>config:
  token: "YOUR_BOT_TOKEN"
  name: "Мой первый бот"

handlers:
  - name: "start"
    trigger: "/start"
    effects:
      - send:
          text: "Добро пожаловать!"</code></pre>

                <h2>Запуск</h2>
                <p>Запустите бота:</p>
                <pre><code>python esybot_dec.py bot.yaml</code></pre>

                <div class="infobox">
                    <p><strong>Совет:</strong> Получите токен у <a href="https://t.me/BotFather">@BotFather</a> в Telegram.</p>
                </div>
            </div>

            <!-- Установка -->
            <div id="install" class="page">
                <h1>Установка</h1>
                
                <p><strong>Установка</strong> ESYBOT-DEC включает в себя подготовку окружения и получение необходимых файлов.</p>

                <h2>Системные требования</h2>
                <ul>
                    <li><strong>Python 3.8+</strong> — современная версия Python</li>
                    <li><strong>pip</strong> — менеджер пакетов Python</li>
                    <li><strong>Git</strong> — для клонирования репозитория (опционально)</li>
                </ul>

                <h2>Способ 1: Через Git</h2>
                <p>Клонируйте репозиторий:</p>
                <pre><code>git clone https://github.com/esybotscript/esybot-dec.git
cd esybot-dec</code></pre>

                <p>Установите зависимости:</p>
                <pre><code>pip install -r requirements.txt</code></pre>

                <h2>Способ 2: Прямое скачивание</h2>
                <p>Скачайте интерпретатор:</p>
                <pre><code>wget https://raw.githubusercontent.com/esybotscript/esybot-dec/main/esybot_dec.py</code></pre>

                <p>Установите зависимости:</p>
                <pre><code>pip install aiogram pyyaml</code></pre>

                <h2>Проверка установки</h2>
                <p>Проверьте, что интерпретатор работает:</p>
                <pre><code>python esybot_dec.py --help</code></pre>

                <div class="warning">
                    <p><strong>Важно:</strong> Убедитесь, что используете Python 3.8 или выше.</p>
                </div>
            </div>

            <!-- Конфигурация -->
            <div id="config" class="page">
                <h1>Конфигурация</h1>
                
                <p><strong>Конфигурация</strong> ESYBOT-DEC представляет собой YAML файл с четырьмя основными секциями.</p>

                <h2>Структура файла</h2>
                <pre><code>config:      # Настройки бота
variables:   # Переменные состояния
keyboards:   # Определение клавиатур
handlers:    # Обработчики событий</code></pre>

                <h2>Секция config</h2>
                <table>
                    <tr><th>Параметр</th><th>Тип</th><th>Описание</th></tr>
                    <tr><td><code>token</code></td><td>string</td><td>Токен бота</td></tr>
                    <tr><td><code>name</code></td><td>string</td><td>Название бота</td></tr>
                    <tr><td><code>version</code></td><td>string</td><td>Версия</td></tr>
                </table>

                <h2>Пример полной конфигурации</h2>
                <pre><code>config:
  token: "123456789:ABCdefGHIjklMNOpqrsTUVwxyz"
  name: "Демо бот"
  description: "Пример ESYBOT-DEC бота"
  version: "1.0.0"

variables:
  - name: "user_count"
    value: 0
    type: "integer"

keyboards:
  - name: "main_menu"
    type: "inline"
    buttons:
      - text: "📊 Статистика"
        callback_data: "stats"

handlers:
  - name: "start"
    trigger: "/start"
    effects:
      - increment: "user_count"
      - send:
          text: "Добро пожаловать!"
          keyboard: "main_menu"</code></pre>
            </div>

            <!-- Обработчики -->
            <div id="handlers" class="page">
                <h1>Обработчики</h1>
                
                <p><strong>Обработчики</strong> определяют реакцию бота на различные события пользователей.</p>

                <h2>Структура обработчика</h2>
                <pre><code>handlers:
  - name: "unique_name"        # Уникальное имя
    trigger: "event_type"      # Тип события
    condition: "optional"      # Условие (опционально)
    python: "code"             # Python код (опционально)
    effects:                   # Список действий
      - action: parameters</code></pre>

                <h2>Типы триггеров</h2>
                <table>
                    <tr><th>Триггер</th><th>Описание</th><th>Пример</th></tr>
                    <tr><td><code>/start</code></td><td>Команда /start</td><td><code>trigger: "/start"</code></td></tr>
                    <tr><td><code>command:help</code></td><td>Команда /help</td><td><code>trigger: "command:help"</code></td></tr>
                    <tr><td><code>message</code></td><td>Любое сообщение</td><td><code>trigger: "message"</code></td></tr>
                    <tr><td><code>callback</code></td><td>Нажатие кнопки</td><td><code>trigger: "button_data"</code></td></tr>
                    <tr><td><code>photo</code></td><td>Отправка фото</td><td><code>trigger: "photo"</code></td></tr>
                </table>

                <h2>Примеры обработчиков</h2>
                
                <h3>Команда /start</h3>
                <pre><code>- name: "start_command"
  trigger: "/start"
  effects:
    - send:
        text: "Привет, $first_name!"</code></pre>

                <h3>Обработка callback</h3>
                <pre><code>- name: "stats_button"
  trigger: "show_stats"
  effects:
    - edit:
        text: "Статистика: $user_count пользователей"
    - answer_callback:
        text: "Статистика обновлена"</code></pre>

                <h3>С Python кодом</h3>
                <pre><code>- name: "random_number"
  trigger: "random"
  python: |
    import random
    number = random.randint(1, 100)
  effects:
    - send:
        text: "Случайное число: $number"</code></pre>
            </div>

            <!-- Клавиатуры -->
            <div id="keyboards" class="page">
                <h1>Клавиатуры</h1>
                
                <p><strong>Клавиатуры</strong> позволяют создавать интерактивные кнопки для взаимодействия с пользователями.</p>

                <h2>Типы клавиатур</h2>
                <ul>
                    <li><strong>inline</strong> — кнопки под сообщением</li>
                    <li><strong>reply</strong> — кнопки вместо обычной клавиатуры</li>
                </ul>

                <h2>Inline клавиатуры</h2>
                <p>Кнопки отображаются под сообщением и отправляют callback данные:</p>
                <pre><code>keyboards:
  - name: "main_menu"
    type: "inline"
    buttons:
      - text: "📊 Статистика"
        callback_data: "stats"
      - text: "🌐 Сайт"
        url: "https://example.com"
        new_row: true</code></pre>

                <h2>Reply клавиатуры</h2>
                <p>Заменяют стандартную клавиатуру пользователя:</p>
                <pre><code>keyboards:
  - name: "reply_menu"
    type: "reply"
    resize: true
    buttons:
      - text: "🏠 Главная"
      - text: "❓ Помощь"
        new_row: true</code></pre>

                <h2>Параметры кнопок</h2>
                <table>
                    <tr><th>Параметр</th><th>Тип</th><th>Описание</th></tr>
                    <tr><td><code>text</code></td><td>string</td><td>Текст на кнопке</td></tr>
                    <tr><td><code>callback_data</code></td><td>string</td><td>Данные для обработчика</td></tr>
                    <tr><td><code>url</code></td><td>string</td><td>URL для перехода</td></tr>
                    <tr><td><code>new_row</code></td><td>boolean</td><td>Начать новую строку</td></tr>
                </table>

                <h2>Использование в обработчиках</h2>
                <pre><code>handlers:
  - name: "start"
    trigger: "/start"
    effects:
      - send:
          text: "Выберите действие:"
          keyboard: "main_menu"</code></pre>
            </div>

            <!-- Эффекты -->
            <div id="effects" class="page">
                <h1>Эффекты</h1>
                
                <p><strong>Эффекты</strong> — это действия, которые выполняет бот в ответ на события пользователей.</p>

                <h2>Отправка сообщений</h2>
                
                <h3>send — отправить сообщение</h3>
                <pre><code>- send:
    text: "Привет, $first_name!"
    keyboard: "main_menu"
    parse_mode: "Markdown"</code></pre>

                <h3>reply — ответить на сообщение</h3>
                <pre><code>- reply:
    text: "Спасибо за сообщение!"</code></pre>

                <h3>edit — редактировать сообщение</h3>
                <pre><code>- edit:
    text: "Обновленный текст"
    keyboard: "new_menu"</code></pre>

                <h2>Callback ответы</h2>
                
                <h3>answer_callback — ответ на нажатие кнопки</h3>
                <pre><code>- answer_callback:
    text: "Операция выполнена!"
    alert: false</code></pre>

                <h2>Работа с переменными</h2>
                
                <h3>increment — увеличить переменную</h3>
                <pre><code>- increment: "counter"</code></pre>

                <h3>decrement — уменьшить переменную</h3>
                <pre><code>- decrement: "attempts"</code></pre>

                <h3>set — установить значение</h3>
                <pre><code>- set:
    variable: "status"
    value: "active"</code></pre>

                <h2>Параметры эффектов</h2>
                <table>
                    <tr><th>Эффект</th><th>Параметры</th><th>Описание</th></tr>
                    <tr><td><code>send</code></td><td>text, keyboard, parse_mode</td><td>Отправить новое сообщение</td></tr>
                    <tr><td><code>reply</code></td><td>text</td><td>Ответить на сообщение</td></tr>
                    <tr><td><code>edit</code></td><td>text, keyboard</td><td>Изменить сообщение</td></tr>
                    <tr><td><code>answer_callback</code></td><td>text, alert</td><td>Ответ на callback</td></tr>
                    <tr><td><code>increment</code></td><td>variable</td><td>Увеличить на 1</td></tr>
                    <tr><td><code>decrement</code></td><td>variable</td><td>Уменьшить на 1</td></tr>
                    <tr><td><code>set</code></td><td>variable, value</td><td>Установить значение</td></tr>
                </table>
            </div>

            <!-- Простой бот -->
            <div id="simple" class="page">
                <h1>Простой бот</h1>
                
                <p><strong>Простой бот</strong> — базовый пример информационного бота с кнопками.</p>

                <h2>Конфигурация</h2>
                <pre><code># simple_bot.yaml
config:
  token: "YOUR_BOT_TOKEN"
  name: "Простой информационный бот"

variables:
  - name: "user_count"
    value: 0

keyboards:
  - name: "main_menu"
    type: "inline"
    buttons:
      - text: "ℹ️ О боте"
        callback_data: "about"
      - text: "📊 Статистика"
        callback_data: "stats"
      - text: "📞 Контакты"
        callback_data: "contacts"
        new_row: true

handlers:
  - name: "start"
    trigger: "/start"
    effects:
      - increment: "user_count"
      - send:
          text: |
            👋 Добро пожаловать!
            
            Я простой информационный бот.
            Выберите интересующий раздел:
          keyboard: "main_menu"

  - name: "about"
    trigger: "about"
    effects:
      - edit:
          text: |
            ℹ️ **О боте**
            
            Этот бот создан с помощью ESYBOT-DEC —
            декларативного фреймворка для Telegram ботов.
            
            🔧 Версия: 1.0.0
            📅 Создан: 2025
          parse_mode: "Markdown"
      - answer_callback:
          text: "Информация показана"

  - name: "stats"
    trigger: "stats"
    effects:
      - edit:
          text: |
            📊 **Статистика бота**
            
            👥 Всего пользователей: $user_count
            📅 Дата запуска: 29.07.2025
          parse_mode: "Markdown"
      - answer_callback:
          text: "Статистика обновлена"

  - name: "contacts"
    trigger: "contacts"
    effects:
      - edit:
          text: |
            📞 **Наши контакты**
            
            📧 Email: info@example.com
            🌐 Сайт: https://example.com
            💬 Telegram: @support_bot
          parse_mode: "Markdown"
      - answer_callback:
          text: "Контакты показаны"</code></pre>

                <h2>Особенности</h2>
                <ul>
                    <li>Счетчик пользователей</li>
                    <li>Inline клавиатура с информацией</li>
                    <li>Markdown форматирование</li>
                    <li>Обратная связь через callback ответы</li>
                </ul>
            </div>

            <!-- Бот-опросник -->
            <div id="survey" class="page">
                <h1>Бот-опросник</h1>
                
                <p><strong>Бот-опросник</strong> — пример бота для проведения опросов с сохранением результатов.</p>

                <h2>Конфигурация</h2>
                <pre><code># survey_bot.yaml
config:
  token: "YOUR_BOT_TOKEN"
  name: "Бот-опросник"

variables:
  - name: "total_surveys"
    value: 0
  - name: "rating_5"
    value: 0
  - name: "rating_4"
    value: 0
  - name: "rating_3"
    value: 0
  - name: "rating_2"
    value: 0
  - name: "rating_1"
    value: 0

keyboards:
  - name: "start_menu"
    type: "inline"
    buttons:
      - text: "📝 Пройти опрос"
        callback_data: "start_survey"
      - text: "📊 Результаты"
        callback_data: "show_results"
  
  - name: "rating_menu"
    type: "inline"
    buttons:
      - text: "⭐⭐⭐⭐⭐ (5)"
        callback_data: "rate_5"
      - text: "⭐⭐⭐⭐ (4)"
        callback_data: "rate_4"
      - text: "⭐⭐⭐ (3)"
        callback_data: "rate_3"
        new_row: true
      - text: "⭐⭐ (2)"
        callback_data: "rate_2"
      - text: "⭐ (1)"
        callback_data: "rate_1"

handlers:
  - name: "start"
    trigger: "/start"
    effects:
      - send:
          text: |
            📋 **Опрос качества обслуживания**
            
            Помогите нам стать лучше!
            Ваше мнение очень важно.
          keyboard: "start_menu"

  - name: "start_survey"
    trigger: "start_survey"
    effects:
      - edit:
          text: |
            ❓ **Вопрос**
            
            Как вы оцениваете качество нашего обслуживания?
            
            Выберите оценку от 1 до 5 звезд:
          keyboard: "rating_menu"

  - name: "rate_5"
    trigger: "rate_5"
    effects:
      - increment: "rating_5"
      - increment: "total_surveys"
      - edit:
          text: |
            ⭐⭐⭐⭐⭐ **Отлично!**
            
            Спасибо за высокую оценку!
            Мы рады, что вы довольны нашим сервисом.
          keyboard: "start_menu"
      - answer_callback:
          text: "Спасибо за участие!"

  - name: "show_results"
    trigger: "show_results"
    python: |
      if total_surveys > 0:
          avg_rating = (rating_5*5 + rating_4*4 + rating_3*3 + rating_2*2 + rating_1*1) / total_surveys
          avg_rating = round(avg_rating, 1)
      else:
          avg_rating = 0
    effects:
      - edit:
          text: |
            📊 **Результаты опроса**
            
            📈 Всего ответов: $total_surveys
            ⭐ Средняя оценка: $avg_rating
            
            **Распределение оценок:**
            ⭐⭐⭐⭐⭐ (5): $rating_5
            ⭐⭐⭐⭐ (4): $rating_4  
            ⭐⭐⭐ (3): $rating_3
            ⭐⭐ (2): $rating_2
            ⭐ (1): $rating_1
          keyboard: "start_menu"</code></pre>

                <h2>Возможности</h2>
                <ul>
                    <li>Система оценок от 1 до 5 звезд</li>
                    <li>Подсчет статистики с помощью Python</li>
                    <li>Отображение результатов в реальном времени</li>
                    <li>Удобная навигация между опросом и результатами</li>
                </ul>
            </div>

            <!-- Игровой бот -->
            <div id="game" class="page">
                <h1>Игровой бот</h1>
                
                <p><strong>Игровой бот</strong> — пример интерактивной игры "Угадай число".</p>

                <h2>Конфигурация</h2>
                <pre><code># game_bot.yaml
config:
  token: "YOUR_BOT_TOKEN"
  name: "Игра 'Угадай число'"

variables:
  - name: "games_played"
    value: 0
  - name: "current_number"
    value: 0
  - name: "attempts"
    value: 0
  - name: "max_attempts"
    value: 5

keyboards:
  - name: "game_menu"
    type: "inline"
    buttons:
      - text: "🎮 Новая игра"
        callback_data: "new_game"
      - text: "📊 Статистика"
        callback_data: "game_stats"
      - text: "❓ Правила"
        callback_data: "rules"

  - name: "numbers"
    type: "inline"  
    buttons:
      - text: "1️⃣"
        callback_data: "guess_1"
      - text: "2️⃣"
        callback_data: "guess_2"
      - text: "3️⃣"
        callback_data: "guess_3"
      - text: "4️⃣"
        callback_data: "guess_4"
      - text: "5️⃣"
        callback_data: "guess_5"
        new_row: true
      - text: "6️⃣"
        callback_data: "guess_6"
      - text: "7️⃣"
        callback_data: "guess_7"
      - text: "8️⃣"
        callback_data: "guess_8"
      - text: "9️⃣"
        callback_data: "guess_9"
      - text: "🔟"
        callback_data: "guess_10"

handlers:
  - name: "start"
    trigger: "/start"
    effects:
      - send:
          text: |
            🎮 **Игра "Угадай число"**
            
            Я загадываю число от 1 до 10,
            а вы пытаетесь его угадать!
            
            У вас есть $max_attempts попыток.
          keyboard: "game_menu"

  - name: "new_game"
    trigger: "new_game"
    python: |
      import random
      current_number = random.randint(1, 10)
      attempts = 0
      games_played += 1
    effects:
      - edit:
          text: |
            🎯 **Игра началась!**
            
            Я загадал число от 1 до 10.
            Попытка $attempts из $max_attempts
            
            Выберите число:
          keyboard: "numbers"

  - name: "guess_5"
    trigger: "guess_5"
    python: |
      attempts += 1
      guessed = 5
      if current_number == guessed:
          result = "win"
      elif attempts >= max_attempts:
          result = "lose"  
      else:
          result = "continue"
    effects:
      - edit:
          text: |
            {% if result == "win" %}
            🎉 **ПОЗДРАВЛЯЕМ!**
            
            Вы угадали! Число было $current_number
            Попыток использовано: $attempts
            {% elif result == "lose" %}
            😔 **Игра окончена**
            
            Попытки закончились!
            Загаданное число: $current_number
            {% else %}
            ❌ **Неправильно!**
            
            Попытка $attempts из $max_attempts
            Попробуйте еще раз:
            {% endif %}
          keyboard: "{% if result == 'continue' %}numbers{% else %}game_menu{% endif %}"</code></pre>

                <h2>Игровые механики</h2>
                <ul>
                    <li>Генерация случайных чисел через Python</li>
                    <li>Счетчик попыток</li>
                    <li>Условная логика win/lose/continue</li>
                    <li>Статистика игр</li>
                </ul>
            </div>

            <!-- API справочник -->
            <div id="api" class="page">
                <h1>API справочник</h1>
                
                <p><strong>API справочник</strong> содержит полное описание всех доступных параметров и методов ESYBOT-DEC.</p>

                <h2>Структура конфигурации</h2>
                <pre><code>config:
  token: string                    # Обязательно
  name: string                     # Опционально
  description: string              # Опционально  
  version: string                  # Опционально

variables:
  - name: string                   # Обязательно
    value: any                     # Обязательно
    type: "auto|string|integer|float|boolean"
    description: string            # Опционально

keyboards:
  - name: string                   # Обязательно
    type: "inline|reply"           # Обязательно
    resize: boolean                # Только для reply
    buttons:
      - text: string               # Обязательно
        callback_data: string      # Для inline
        url: string                # Для inline URL
        new_row: boolean           # Опционально

handlers:
  - name: string                   # Обязательно
    trigger: string                # Обязательно
    condition: string              # Опционально
    python: string                 # Опционально
    effects:                       # Обязательно
      - type: parameters</code></pre>

                <h2>Типы эффектов</h2>
                <table>
                    <tr><th>Эффект</th><th>Параметры</th><th>Описание</th></tr>
                    <tr><td><code>send</code></td><td>text, keyboard, parse_mode</td><td>Отправить сообщение</td></tr>
                    <tr><td><code>reply</code></td><td>text</td><td>Ответить на сообщение</td></tr>
                    <tr><td><code>edit</code></td><td>text, keyboard</td><td>Редактировать сообщение</td></tr>
                    <tr><td><code>answer_callback</code></td><td>text, alert</td><td>Ответ на callback</td></tr>
                    <tr><td><code>increment</code></td><td>variable</td><td>Увеличить переменную</td></tr>
                    <tr><td><code>decrement</code></td><td>variable</td><td>Уменьшить переменную</td></tr>
                    <tr><td><code>set</code></td><td>variable, value</td><td>Установить значение</td></tr>
                </table>

                <h2>Типы триггеров</h2>
                <table>
                    <tr><th>Триггер</th><th>Описание</th><th>Пример</th></tr>
                    <tr><td><code>/start</code></td><td>Команда /start</td><td><code>trigger: "/start"</code></td></tr>
                    <tr><td><code>command:help</code></td><td>Команда /help</td><td><code>trigger: "command:help"</code></td></tr>
                    <tr><td><code>message</code></td><td>Любое сообщение</td><td><code>trigger: "message"</code></td></tr>
                    <tr><td><code>photo</code></td><td>Отправка фото</td><td><code>trigger: "photo"</code></td></tr>
                    <tr><td><code>document</code></td><td>Отправка документа</td><td><code>trigger: "document"</code></td></tr>
                    <tr><td><code>voice</code></td><td>Голосовое сообщение</td><td><code>trigger: "voice"</code></td></tr>
                </table>
            </div>

            <!-- Переменные -->
            <div id="vars" class="page">
                <h1>Переменные</h1>
                
                <p><strong>Переменные</strong> используются для хранения состояния бота и могут заменяться в текстах.</p>

                <h2>Пользовательские переменные</h2>
                <p>Определяются в секции <code>variables</code>:</p>
                <pre><code>variables:
  - name: "counter"
    value: 0
    type: "integer"
    description: "Счетчик событий"</code></pre>

                <h2>Системные переменные</h2>
                <table>
                    <tr><th>Переменная</th><th>Тип</th><th>Описание</th><th>Пример</th></tr>
                    <tr><td><code>$user_id</code></td><td>integer</td><td>ID пользователя</td><td>123456789</td></tr>
                    <tr><td><code>$chat_id</code></td><td>integer</td><td>ID чата</td><td>123456789</td></tr>
                    <tr><td><code>$first_name</code></td><td>string</td><td>Имя пользователя</td><td>Иван</td></tr>
                    <tr><td><code>$last_name</code></td><td>string</td><td>Фамилия</td><td>Петров</td></tr>
                    <tr><td><code>$username</code></td><td>string</td><td>Username</td><td>@ivan_petrov</td></tr>
                    <tr><td><code>$text</code></td><td>string</td><td>Текст сообщения</td><td>Привет!</td></tr>
                    <tr><td><code>$data</code></td><td>string</td><td>Callback данные</td><td>button_pressed</td></tr>
                    <tr><td><code>$date</code></td><td>string</td><td>Текущая дата</td><td>2025-07-29</td></tr>
                    <tr><td><code>$time</code></td><td>string</td><td>Текущее время</td><td>14:30:25</td></tr>
                    <tr><td><code>$datetime</code></td><td>string</td><td>Дата и время</td><td>2025-07-29 14:30:25</td></tr>
                </table>

                <h2>Использование переменных</h2>
                <p>Переменные заменяются в текстах через синтаксис <code>$variable_name</code>:</p>
                <pre><code>- send:
    text: "Привет, $first_name! Счетчик: $counter"</code></pre>

                <h2>Типы данных</h2>
                <table>
                    <tr><th>Тип</th><th>Описание</th><th>Пример значения</th></tr>
                    <tr><td><code>auto</code></td><td>Автоопределение</td><td>любое</td></tr>
                    <tr><td><code>string</code></td><td>Строка</td><td>"Привет!"</td></tr>
                    <tr><td><code>integer</code></td><td>Целое число</td><td>42</td></tr>
                    <tr><td><code>float</code></td><td>Дробное число</td><td>3.14</td></tr>
                    <tr><td><code>boolean</code></td><td>Логическое</td><td>true/false</td></tr>
                </table>
            </div>

            <!-- Триггеры -->
            <div id="triggers" class="page">
                <h1>Триггеры</h1>
                
                <p><strong>Триггеры</strong> определяют, на какие события будет реагировать обработчик.</p>

                <h2>Команды</h2>
                <table>
                    <tr><th>Триггер</th><th>Описание</th><th>Пример</th></tr>
                    <tr><td><code>/start</code></td><td>Команда /start</td><td><code>trigger: "/start"</code></td></tr>
                    <tr><td><code>command:название</code></td><td>Любая команда</td><td><code>trigger: "command:help"</code></td></tr>
                </table>

                <h2>Сообщения</h2>
                <table>
                    <tr><th>Триггер</th><th>Описание</th><th>Пример</th></tr>
                    <tr><td><code>message</code></td><td>Любое текстовое сообщение</td><td><code>trigger: "message"</code></td></tr>
                    <tr><td><code>"точный текст"</code></td><td>Конкретный текст</td><td><code>trigger: "Привет"</code></td></tr>
                </table>

                <h2>Callback данные</h2>
                <table>
                    <tr><th>Триггер</th><th>Описание</th><th>Пример</th></tr>
                    <tr><td><code>callback_data</code></td><td>Данные от кнопки</td><td><code>trigger: "button_click"</code></td></tr>
                </table>

                <h2>Медиа файлы</h2>
                <table>
                    <tr><th>Триггер</th><th>Описание</th><th>Пример</th></tr>
                    <tr><td><code>photo</code></td><td>Отправка фотографии</td><td><code>trigger: "photo"</code></td></tr>
                    <tr><td><code>video</code></td><td>Отправка видео</td><td><code>trigger: "video"</code></td></tr>
                    <tr><td><code>document</code></td><td>Отправка документа</td><td><code>trigger: "document"</code></td></tr>
                    <tr><td><code>voice</code></td><td>Голосовое сообщение</td><td><code>trigger: "voice"</code></td></tr>
                    <tr><td><code>audio</code></td><td>Аудио файл</td><td><code>trigger: "audio"</code></td></tr>
                    <tr><td><code>sticker</code></td><td>Стикер</td><td><code>trigger: "sticker"</code></td></tr>
                </table>

                <h2>Контакты и локация</h2>
                <table>
                    <tr><th>Триггер</th><th>Описание</th><th>Пример</th></tr>
                    <tr><td><code>contact</code></td><td>Отправка контакта</td><td><code>trigger: "contact"</code></td></tr>
                    <tr><td><code>location</code></td><td>Отправка геолокации</td><td><code>trigger: "location"</code></td></tr>
                </table>

                <h2>Примеры использования</h2>
                <pre><code># Обработка команды
- name: "help_command"
  trigger: "command:help"
  effects:
    - send:
        text: "Справка по боту"

# Обработка фото
- name: "photo_handler"
  trigger: "photo"
  effects:
    - reply:
        text: "Спасибо за фото!"

# Обработка кнопки
- name: "button_handler"
  trigger: "my_button"
  effects:
    - answer_callback:
        text: "Кнопка нажата!"</code></pre>
            </div>

            <!-- FAQ -->
            <div id="faq" class="page">
                <h1>FAQ</h1>
                
                <p><strong>Часто задаваемые вопросы</strong> и ответы на них.</p>

                <h2>Общие вопросы</h2>
                
                <h3>Что такое ESYBOT-DEC?</h3>
                <p>ESYBOT-DEC — это декларативный фреймворк для создания Telegram ботов. Вместо написания Python кода, вы описываете поведение бота в YAML конфигурации.</p>

                <h3>Нужно ли знать Python?</h3>
                <p>Для простых ботов Python знать не обязательно. Достаточно понимать YAML синтаксис. Python нужен только для сложной логики.</p>

                <h3>Чем отличается от обычного aiogram?</h3>
                <p>ESYBOT-DEC упрощает создание ботов через конфигурацию, автоматически валидирует настройки и предоставляет готовые решения для типовых задач.</p>

                <h2>Технические вопросы</h2>
                
                <h3>Какие версии Python поддерживаются?</h3>
                <p>ESYBOT-DEC требует Python 3.8 или выше.</p>

                <h3>Как получить токен бота?</h3>
                <p>Токен получается у бота <a href="https://t.me/BotFather">@BotFather</a>. Создайте нового бота командой <code>/newbot</code>.</p>

                <h3>Можно ли использовать внешние библиотеки?</h3>
                <p>Да, в Python блоках доступны все установленные библиотеки.</p>

                <h2>Решение проблем</h2>
                
                <h3>Бот не отвечает</h3>
                <p>Проверьте:</p>
                <ul>
                    <li>Правильность токена</li>
                    <li>YAML синтаксис</li>
                    <li>Соответствие триггеров</li>
                </ul>

                <h3>Кнопки не работают</h3>
                <p>Убедитесь, что <code>callback_data</code> в кнопках соответствует триггерам в обработчиках.</p>

                <h3>Ошибки YAML</h3>
                <p>Частые проблемы:</p>
                <ul>
                    <li>Неправильные отступы (используйте пробелы)</li>
                    <li>Незакрытые кавычки</li>
                    <li>Отсутствие двоеточий</li>
                </ul>

                <div class="warning">
                    <p><strong>Совет:</strong> Запускайте бота с флагом <code>--debug</code> для подробной диагностики.</p>
                </div>

                <h2>Производительность</h2>

                <h3>Насколько быстро работает?</h3>
                <p>Производительность сравнима с чистым aiogram, так как используется та же основа.</p>

                <h3>Сколько пользователей может обслуживать?</h3>
                <p>Ограничения такие же, как у aiogram — десятки тысяч одновременных пользователей.</p>
            </div>
        </div>
    </div>

    <script>
        function showPage(pageId) {
            // Скрываем все страницы
            const pages = document.querySelectorAll('.page');
            pages.forEach(page => page.classList.remove('active'));
            
            // Показываем выбранную страницу
            const page = document.getElementById(pageId);
            if (page) {
                page.classList.add('active');
            }
            
            // Прокручиваем наверх
            window.scrollTo(0, 0);
        }
    </script>
</body>
</html>
